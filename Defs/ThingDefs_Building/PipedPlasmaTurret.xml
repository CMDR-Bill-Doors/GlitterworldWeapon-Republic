<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<DesignatorDropdownGroupDef>
		<defName>Group_PlasmaTurretsPiped</defName>
		<label>piped plasma turrets</label>
	</DesignatorDropdownGroupDef>

	<!--==================== Heavy turret =========================-->

	<ThingDef ParentName="TurretAutoBase">
		<defName>BDP_Turret_PlasmaheavyPiped</defName>
		<label>piped heavy plasma turret</label>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<graphicData>
			<texPath>Things/Building/PlasmaTurret_Base</texPath>
			<drawSize>(1.8,1.8)</drawSize>
			<drawOffset>(0,0,-0.1)</drawOffset>
			<shadowData>
				<volume>(0.27,0.25,0.27)</volume>
				<offset>(0,0,0)</offset>
			</shadowData>
		</graphicData>
		<uiIconPath>UI/Icons/BDP_PlasmaTurret_Icon</uiIconPath>
		<statBases>
			<WorkToBuild>80000</WorkToBuild>
			<MaxHitPoints>600</MaxHitPoints>
			<Mass>20</Mass>
			<Bulk>25</Bulk>
			<AimingAccuracy>0.5</AimingAccuracy>
			<ShootingAccuracyTurret>1</ShootingAccuracyTurret>
			<Flammability>0</Flammability>
		</statBases>
		<techLevel>Spacer</techLevel>
		<fillPercent>0.85</fillPercent>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>1250</basePowerConsumption>
			</li>
			<li Class="BDsPlasmaWeapon.CompProperties_ShootFromPipeNet">
				<pipeNet>BDP_LizionNetwork</pipeNet>
				<resourceConsumption>20</resourceConsumption>
			</li>
		</comps>
		<description>Automatic turret equipped with a heavy lizion cannon. This turret directly feeds from lizion pipes.</description>
		<designatorDropdown>Group_PlasmaTurretsPiped</designatorDropdown>
		<costList>
			<Steel>325</Steel>
			<Plasteel>140</Plasteel>
			<ComponentIndustrial>20</ComponentIndustrial>
			<ComponentSpacer>4</ComponentSpacer>
			<Jade>50</Jade>
		</costList>
		<building>
			<turretGunDef>BDP_PlasmaTurretGunHeavyPiped</turretGunDef>
			<ai_combatDangerous>true</ai_combatDangerous>
			<turretTopDrawSize>5</turretTopDrawSize>
		</building>
		<size>(2,2)</size>
		<placeWorkers Inherit="false">
			<li>PlaceWorker_TurretTop</li>
		</placeWorkers>
		<thingCategories IsNull="true"/>
		<researchPrerequisites>
			<li>CE_ChargeTurret</li>
		</researchPrerequisites>
		<damageMultipliers>
			<li>
				<damageDef>RangedStab</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Arrow</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ArrowHighVelocity</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Bullet</damageDef>
				<multiplier>0.5</multiplier>
			</li>
			<li>
				<damageDef>Cut</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Poke</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Stab</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Scratch</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ScratchToxic</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Bite</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ToxicBite</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Flame</damageDef>
				<multiplier>0</multiplier>
			</li>
		</damageMultipliers>
	</ThingDef>

	<ThingDef ParentName="BaseAutoTurretGun">
		<defName>BDP_PlasmaTurretGunHeavyPiped</defName>
		<label>heavy plasma blaster</label>
		<graphicData>
			<texPath>Things/Weapons/BDP_PlasmaTurret_TurretHeavy</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<description>Charge blaster attached to a turret mount.</description>
		<soundInteract>Interact_ChargeRifle</soundInteract>
		<statBases>
			<MarketValue>2000</MarketValue>
			<SightsEfficiency>2.36</SightsEfficiency>
			<ShotSpread>0.01</ShotSpread>
			<SwayFactor>1.14</SwayFactor>
			<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
		</statBases>
		<verbs>
			<li Class="CombatExtended.VerbPropertiesCE">
				<recoilAmount>1.1</recoilAmount>
				<verbClass>BDsPlasmaWeapon.Verb_ShootFromPipeSystem</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Projectile_LizionHeavyNormal</defaultProjectile>
				<warmupTime>2.3</warmupTime>
				<range>68</range>
				<minRange>8</minRange>
				<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
				<burstShotCount>3</burstShotCount>
				<soundCast>Shot_ChargeBlaster</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
				<stopBurstWithoutLos>false</stopBurstWithoutLos>
				<ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
			</li>
		</verbs>
	</ThingDef>

	<!--==================== Dual turret =========================-->

	<ThingDef ParentName="TurretAutoBase">
		<defName>BDP_Turret_PlasmaPiped</defName>
		<label>piped dual plasma turret</label>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<graphicData>
			<texPath>Things/Building/PlasmaTurret_Base</texPath>
			<drawSize>(1.8,1.8)</drawSize>
			<drawOffset>(0,0,-0.1)</drawOffset>
			<shadowData>
				<volume>(0.27,0.25,0.27)</volume>
				<offset>(0,0,0)</offset>
			</shadowData>
		</graphicData>
		<uiIconPath>UI/Icons/BDP_PlasmaTurret_Icon</uiIconPath>
		<statBases>
			<WorkToBuild>80000</WorkToBuild>
			<MaxHitPoints>600</MaxHitPoints>
			<Mass>20</Mass>
			<Bulk>25</Bulk>
			<AimingAccuracy>0.5</AimingAccuracy>
			<ShootingAccuracyTurret>1</ShootingAccuracyTurret>
			<Flammability>0</Flammability>
		</statBases>
		<techLevel>Spacer</techLevel>
		<fillPercent>0.85</fillPercent>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>950</basePowerConsumption>
			</li>
			<li Class="BDsPlasmaWeapon.CompProperties_ShootFromPipeNet">
				<pipeNet>BDP_LizionNetwork</pipeNet>
				<resourceConsumption>4</resourceConsumption>
			</li>
		</comps>
		<description>Automatic turret equipped with two lizion plasma blasters. This turret directly feeds from lizion pipes.</description>
		<designatorDropdown>Group_PlasmaTurretsPiped</designatorDropdown>
		<costList>
			<Steel>325</Steel>
			<Plasteel>140</Plasteel>
			<ComponentIndustrial>20</ComponentIndustrial>
			<ComponentSpacer>4</ComponentSpacer>
			<Jade>50</Jade>
		</costList>
		<building>
			<turretGunDef>BDP_PlasmaTurretGunPiped</turretGunDef>
			<ai_combatDangerous>true</ai_combatDangerous>
			<turretTopDrawSize>2.5</turretTopDrawSize>
		</building>
		<size>(2,2)</size>
		<placeWorkers Inherit="false">
			<li>PlaceWorker_TurretTop</li>
		</placeWorkers>
		<thingCategories IsNull="true"/>
		<researchPrerequisites>
			<li>CE_ChargeTurret</li>
		</researchPrerequisites>
		<damageMultipliers>
			<li>
				<damageDef>RangedStab</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Arrow</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ArrowHighVelocity</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Bullet</damageDef>
				<multiplier>0.5</multiplier>
			</li>
			<li>
				<damageDef>Cut</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Poke</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Stab</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Scratch</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ScratchToxic</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Bite</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ToxicBite</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Flame</damageDef>
				<multiplier>0</multiplier>
			</li>
		</damageMultipliers>
	</ThingDef>

	<ThingDef ParentName="BaseAutoTurretGun">
		<defName>BDP_PlasmaTurretGunPiped</defName>
		<label>dual plasma blaster</label>
		<graphicData>
			<texPath>Things/Weapons/PlasmaTurret_Turret</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<description>Charge blaster attached to a turret mount.</description>
		<soundInteract>Interact_ChargeRifle</soundInteract>
		<statBases>
			<MarketValue>2000</MarketValue>
			<SightsEfficiency>1</SightsEfficiency>
			<ShotSpread>0.08</ShotSpread>
			<SwayFactor>0.72</SwayFactor>
			<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
		</statBases>
		<verbs>
			<li Class="CombatExtended.VerbPropertiesCE">
				<recoilAmount>1.1</recoilAmount>
				<verbClass>BDsPlasmaWeapon.Verb_ShootFromPipeSystem</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Projectile_LizionSniperNormal</defaultProjectile>
				<warmupTime>1.3</warmupTime>
				<range>68</range>
				<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
				<burstShotCount>10</burstShotCount>
				<minRange>3</minRange>
				<soundCast>Shot_ChargeBlaster</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
				<stopBurstWithoutLos>false</stopBurstWithoutLos>
			</li>
		</verbs>
	</ThingDef>

	<!--==================== Small turret =========================-->

	<ThingDef ParentName="TurretAutoBase">
		<defName>BDP_Turret_PlasmaSmallPiped</defName>
		<label>piped small plasma turret</label>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<graphicData>
			<texPath>Things/Building/BDP_PlasmTurret_SmallBase</texPath>
			<drawSize>(2.3,2.3)</drawSize>
			<damageData>
				<rect>(0.2,0.2,0.6,0.6)</rect>
			</damageData>
		</graphicData>
		<uiIconPath>UI/Icons/BDP_PlasmaTurretSmall_Icon</uiIconPath>
		<statBases>
			<WorkToBuild>48000</WorkToBuild>
			<MaxHitPoints>140</MaxHitPoints>
			<Mass>20</Mass>
			<Bulk>25</Bulk>
			<AimingAccuracy>0.5</AimingAccuracy>
			<ShootingAccuracyTurret>1</ShootingAccuracyTurret>
			<Flammability>0</Flammability>
		</statBases>
		<techLevel>Spacer</techLevel>
		<fillPercent>0.5</fillPercent>
		<comps>
			<li Class="BDsPlasmaWeapon.CompProperties_ShootFromPipeNet">
				<pipeNet>BDP_LizionNetwork</pipeNet>
				<resourceConsumption>2</resourceConsumption>
			</li>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>200</basePowerConsumption>
			</li>
		</comps>
		<description>Automatic turret equipped with a lizion plasma machinegun. This turret directly feeds from lizion pipes.</description>
		<designatorDropdown>Group_PlasmaTurretsPiped</designatorDropdown>
		<costList>
			<Steel>65</Steel>
			<Plasteel>30</Plasteel>
			<ComponentIndustrial>12</ComponentIndustrial>
			<ComponentSpacer>1</ComponentSpacer>
			<Jade>15</Jade>
		</costList>
		<building>
			<turretGunDef>BDP_PlasmaTurretGunSmallPiped</turretGunDef>
			<ai_combatDangerous>true</ai_combatDangerous>
			<turretTopDrawSize>1.5</turretTopDrawSize>
		</building>
		<size>(1,1)</size>
		<placeWorkers Inherit="false">
			<li>PlaceWorker_TurretTop</li>
		</placeWorkers>
		<minifiedDef>MinifiedThing</minifiedDef>
		<researchPrerequisites>
			<li>CE_ChargeTurret</li>
		</researchPrerequisites>
	</ThingDef>

	<ThingDef ParentName="BaseAutoTurretGun">
		<defName>BDP_PlasmaTurretGunSmallPiped</defName>
		<label>dual plasma blaster</label>
		<graphicData>
			<texPath>Things/Weapons/BDP_PlasmaTurret_Small</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<description>Charge blaster attached to a turret mount.</description>
		<soundInteract>Interact_ChargeRifle</soundInteract>
		<statBases>
			<MarketValue>2000</MarketValue>
			<SightsEfficiency>1</SightsEfficiency>
			<ShotSpread>0.08</ShotSpread>
			<SwayFactor>0.72</SwayFactor>
			<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
		</statBases>
		<verbs>
			<li Class="CombatExtended.VerbPropertiesCE">
				<verbClass>BDsPlasmaWeapon.Verb_ShootFromPipeSystem</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Projectile_LizionRifleNormal</defaultProjectile>
				<warmupTime>1.2</warmupTime>
				<burstShotCount>6</burstShotCount>
				<ticksBetweenBurstShots>4</ticksBetweenBurstShots>
				<range>48</range>
				<soundCast>Shot_ChargeBlaster</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<recoilAmount>0.8</recoilAmount>
				<muzzleFlashScale>12</muzzleFlashScale>
			</li>
		</verbs>
	</ThingDef>



	<!--==================== Experimental Dual mode turret =========================-->

	<CombatExtended.AmmoSetDef>
		<defName>AmmoSet_LizionPipedHeavy</defName>
		<label>Lizion Gas</label>
		<ammoTypes>
			<Gas_Lizion>Projectile_LizionHeavyNormal</Gas_Lizion>
		</ammoTypes>
	</CombatExtended.AmmoSetDef>

	<ThingDef ParentName="TurretAutoBase">
		<defName>BDP_Turret_PlasmaheavyPipedEXP</defName>
		<label>piped heavy plasma turret</label>
		<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
		<graphicData>
			<texPath>Things/Building/PlasmaTurret_Base</texPath>
			<drawSize>(1.8,1.8)</drawSize>
			<drawOffset>(0,0,-0.1)</drawOffset>
			<shadowData>
				<volume>(0.27,0.25,0.27)</volume>
				<offset>(0,0,0)</offset>
			</shadowData>
		</graphicData>
		<uiIconPath>UI/Icons/BDP_PlasmaTurret_Icon</uiIconPath>
		<statBases>
			<WorkToBuild>80000</WorkToBuild>
			<MaxHitPoints>600</MaxHitPoints>
			<Mass>20</Mass>
			<Bulk>25</Bulk>
			<AimingAccuracy>0.5</AimingAccuracy>
			<ShootingAccuracyTurret>1</ShootingAccuracyTurret>
			<Flammability>0</Flammability>
		</statBases>
		<techLevel>Spacer</techLevel>
		<fillPercent>0.85</fillPercent>
		<comps>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>1250</basePowerConsumption>
			</li>
			<li Class="PipeSystem.CompProperties_Resource">
				<compClass>BDsPlasmaWeapon.Comp_TurretPipedDualMode</compClass>
				<pipeNet>BDP_LizionNetwork</pipeNet>
			</li>
			<li>
				<compClass>BDsPlasmaWeapon.CompTurretFixForAmmo</compClass>
			</li>
		</comps>
		<description>Automatic turret equipped with a heavy lizion cannon. This turret directly feeds from lizion pipes.</description>
		<costList>
			<Steel>325</Steel>
			<Plasteel>140</Plasteel>
			<ComponentIndustrial>20</ComponentIndustrial>
			<ComponentSpacer>4</ComponentSpacer>
			<Jade>50</Jade>
		</costList>
		<building>
			<turretGunDef>BDP_PlasmaTurretGunHeavyPipedEXP</turretGunDef>
			<ai_combatDangerous>true</ai_combatDangerous>
			<turretTopDrawSize>5</turretTopDrawSize>
		</building>
		<size>(2,2)</size>
		<placeWorkers Inherit="false">
			<li>PlaceWorker_TurretTop</li>
		</placeWorkers>
		<thingCategories IsNull="true"/>
		<researchPrerequisites>
			<li>CE_ChargeTurret</li>
		</researchPrerequisites>
		<damageMultipliers>
			<li>
				<damageDef>RangedStab</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Arrow</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ArrowHighVelocity</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Bullet</damageDef>
				<multiplier>0.5</multiplier>
			</li>
			<li>
				<damageDef>Cut</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Poke</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Stab</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Scratch</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ScratchToxic</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Bite</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>ToxicBite</damageDef>
				<multiplier>0.2</multiplier>
			</li>
			<li>
				<damageDef>Flame</damageDef>
				<multiplier>0</multiplier>
			</li>
		</damageMultipliers>
	</ThingDef>

	<ThingDef ParentName="BaseAutoTurretGun">
		<defName>BDP_PlasmaTurretGunHeavyPipedEXP</defName>
		<label>heavy plasma blaster</label>

		<graphicData>
			<texPath>Things/Weapons/BDP_PlasmaTurret_TurretHeavy</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<description>Charge blaster attached to a turret mount.</description>
		<soundInteract>Interact_ChargeRifle</soundInteract>
		<statBases>
			<MarketValue>2000</MarketValue>
			<SightsEfficiency>2.36</SightsEfficiency>
			<ShotSpread>0.01</ShotSpread>
			<SwayFactor>1.14</SwayFactor>
			<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
		</statBases>
		<verbs>
			<li Class="CombatExtended.VerbPropertiesCE">
				<recoilAmount>1.1</recoilAmount>
				<verbClass>BDsPlasmaWeapon.Verb_ShootWithCasingReturn</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Projectile_LizionHeavyNormal</defaultProjectile>
				<warmupTime>2.3</warmupTime>
				<range>68</range>
				<minRange>8</minRange>
				<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
				<ammoConsumedPerShotCount>20</ammoConsumedPerShotCount>
				<burstShotCount>3</burstShotCount>
				<soundCast>Shot_ChargeBlaster</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
				<recoilPattern>Mounted</recoilPattern>
				<stopBurstWithoutLos>false</stopBurstWithoutLos>
				<ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
			</li>
		</verbs>
		<comps>
			<li Class="CombatExtended.CompProperties_AmmoUser">
				<magazineSize>600</magazineSize>
				<reloadTime>7.8</reloadTime>
				<ammoSet>AmmoSet_LizionCellHeavy</ammoSet>
			</li>
			<li Class="BDsPlasmaWeapon.CompProperties_CasingReturn">
				<casingThingDef>BDP_EmptyLizionCell</casingThingDef>
				<casingAmount>20</casingAmount>
			</li>
			<li Class="BDsPlasmaWeapon.CompProperties_SecondaryAmmo">
				<secondaryAmmoProps>
					<magazineSize>600</magazineSize>
					<reloadTime>7.8</reloadTime>
					<ammoSet>AmmoSet_LizionPipedHeavy</ammoSet>
				</secondaryAmmoProps>
				<secondaryVerb>
					<recoilAmount>1.1</recoilAmount>
					<verbClass>CombatExtended.Verb_ShootCE</verbClass>
					<hasStandardCommand>true</hasStandardCommand>
					<defaultProjectile>Projectile_LizionHeavyNormal</defaultProjectile>
					<warmupTime>2.3</warmupTime>
					<range>68</range>
					<minRange>8</minRange>
					<ticksBetweenBurstShots>10</ticksBetweenBurstShots>
					<ammoConsumedPerShotCount>20</ammoConsumedPerShotCount>
					<burstShotCount>3</burstShotCount>
					<soundCast>Shot_ChargeBlaster</soundCast>
					<soundCastTail>GunTail_Heavy</soundCastTail>
					<muzzleFlashScale>9</muzzleFlashScale>
					<recoilPattern>Mounted</recoilPattern>
					<stopBurstWithoutLos>false</stopBurstWithoutLos>
					<ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
				</secondaryVerb>
				<mainWeaponLabel>Ammo mode</mainWeaponLabel>
				<secondaryWeaponLabel>Pipe mode</secondaryWeaponLabel>
				<description>switch between ammo mode and piped mode</description>
				<mainCommandIcon>UI/Icons/FireModes/PlasmaTurret_Off</mainCommandIcon>
				<secondaryCommandIcon>UI/Icons/FireModes/PlasmaTurret_On</secondaryCommandIcon>
			</li>
		</comps>
	</ThingDef>
</Defs>